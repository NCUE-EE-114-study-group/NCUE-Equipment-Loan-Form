<!DOCTYPE html>
<html lang="zh-TW">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>彰師學生會器材借用網站</title>

  <!-- Bootstrap CSS 及 Font Awesome CDN -->
  <link
    href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css"
    rel="stylesheet"
  />
  <link
    href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css"
    rel="stylesheet"
  />

  <!-- 自訂的樣式檔 -->
  <link rel="stylesheet" href="./css/style.css" />
</head>
<body>
  <!-- 導覽列 -->
  <nav class="navbar navbar-expand-lg navbar-light bg-light">
    <div class="container">
      <a class="navbar-brand" href="./">學生會器材借用網</a>
      <button
        class="navbar-toggler"
        type="button"
        data-bs-toggle="collapse"
        data-bs-target="#navbarNav"
      >
        <span class="navbar-toggler-icon"></span>
      </button>
      <div class="collapse navbar-collapse" id="navbarNav">
        <ul class="navbar-nav">
          <li class="nav-item">
            <a class="nav-link active" href="./">借用表單</a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="./status">借用狀態</a>
          </li>
        </ul>
      </div>
    </div>
  </nav>

  <!-- 主要內容 -->
  <div class="container py-4">
    <!-- 頁面標題 -->
    <div class="text-center mb-4">
      <!-- 圖片路徑請依照實際位置調整 -->
      <img
        src="./assets/images/ncuesa_img.png"
        alt="NCUESA_IMG"
        class="img-fluid mb-3"
        style="max-width: 200px;"
      />
      <h2 class="mb-3">器材借用表單</h2>
    </div>

    <!-- 注意事項 -->
    <div class="alert alert-info mb-4" role="alert">
      <h5 class="alert-heading">
        <i class="fas fa-info-circle me-2"></i>注意事項
      </h5>
      <ul class="mb-0">
        <li>器材借用時間最長二個禮拜。預先借用請勿填寫此表</li>
        <li>借用器材時需押一證件與押金100元</li>
        <li>器材借用如遺失或判定為人損，借用人應負賠償責任</li>
        <li>押金與證件於器材歸還後退還</li>
      </ul>
    </div>

    <form id="borrowForm" class="needs-validation" novalidate>
      <!-- 基本資料區塊 -->
      <div class="card mb-4">
        <div class="card-header bg-primary text-white">
          <h5 class="card-title mb-0">
            <i class="fas fa-user me-2"></i>基本資料
          </h5>
        </div>
        <div class="card-body">
          <!-- 借用地點選擇 -->
          <div class="mb-3">
            <label class="form-label">借用地點</label>
            <div class="d-flex gap-3">
              <div class="form-check">
                <input
                  class="form-check-input"
                  type="radio"
                  name="borrow_place"
                  value="jinde"
                  required
                />
                <label class="form-check-label">進德校區</label>
              </div>
              <div class="form-check">
                <input
                  class="form-check-input"
                  type="radio"
                  name="borrow_place"
                  value="baosan"
                  required
                />
                <label class="form-check-label">寶山校區</label>
              </div>
            </div>
          </div>

          <!-- 其他基本資料欄位 -->
          <div class="row">
            <div class="col-md-6 mb-3">
              <label class="form-label">單位/系所</label>
              <input
                type="text"
                class="form-control"
                name="department"
                required
              />
            </div>
            <div class="col-md-6 mb-3">
              <label class="form-label">聯絡人姓名</label>
              <input
                type="text"
                class="form-control"
                name="contact_person"
                required
              />
            </div>
          </div>
          <div class="row">
            <div class="col-md-6 mb-3">
              <label class="form-label">聯絡電話</label>
              <input
                type="tel"
                class="form-control"
                name="phone"
                required
                pattern="[0-9]{10}"
              />
            </div>
            <div class="col-md-6 mb-3">
              <label class="form-label">電子郵件</label>
              <input
                type="email"
                class="form-control"
                name="email"
                required
              />
            </div>
          </div>
        </div>
      </div>

      <!-- 借用時間區塊 -->
      <div class="card mb-4">
        <div class="card-header bg-success text-white">
          <h5 class="card-title mb-0">
            <i class="fas fa-calendar me-2"></i>借用時間
          </h5>
        </div>
        <div class="card-body">
          <div class="row">
            <div class="col-md-6 mb-3">
              <label class="form-label">借用日期</label>
              <input
                type="date"
                class="form-control"
                name="borrow_date"
                required
              />
            </div>
            <div class="col-md-6 mb-3">
              <label class="form-label">歸還日期</label>
              <input
                type="date"
                class="form-control"
                name="return_date"
                required
              />
            </div>
          </div>
        </div>
      </div>

      <!-- 器材選擇區塊 -->
      <div class="card mb-4">
        <div class="card-header bg-warning">
          <h5 class="card-title mb-0">
            <i class="fas fa-box me-2"></i>器材選擇
          </h5>
        </div>
        <div class="card-body">
          <!-- 搜索和篩選工具 -->
          <div class="search-box mb-4">
            <div class="row g-3">
              <div class="col-md-6">
                <div class="input-group">
                  <span class="input-group-text">
                    <i class="fas fa-search"></i>
                  </span>
                  <input
                    type="text"
                    class="form-control"
                    id="searchEquipment"
                    placeholder="搜尋器材..."
                  />
                </div>
              </div>
              <div class="col-md-6">
                <select class="form-select" id="categoryFilter">
                  <option value="">所有分類</option>
                  <option value="音響設備">音響設備</option>
                  <option value="電腦設備">電腦設備</option>
                  <option value="什項用具">什項用具</option>
                </select>
              </div>
            </div>
            <!-- 新增的功能按鈕：切換顯示模式與圖片顯示 -->
            <div class="d-flex mt-3 gap-3">
              <button type="button" class="btn btn-secondary" id="toggleLayoutBtn">
                <i class="fas fa-exchange-alt me-2"></i>切換顯示
              </button>
              <!-- 在手機板就直接隱藏顯示/隱藏圖片按鈕 -->
              <button
                type="button"
                class="btn btn-secondary d-none d-sm-block"
                id="toggleImageBtn"
              >
                <i class="fas fa-image me-2"></i>顯示/隱藏圖片
              </button>
            </div>
          </div>

          <!-- 器材列表 -->
          <div
            class="row row-cols-1 row-cols-md-2 row-cols-lg-3 g-4"
            id="equipmentList"
          >
            <!-- 預設範例卡片(可保持以供初始佈局測試) -->
            <div class="col">
              <div class="card equipment-card">
                <svg
                  class="card-img-top equipment-img"
                  width="400"
                  height="300"
                  xmlns="http://www.w3.org/2000/svg"
                  aria-label="設備圖片"
                  role="img"
                >
                  <rect width="100%" height="100%" fill="#eee"></rect>
                  <text
                    x="50%"
                    y="50%"
                    fill="#aaa"
                    font-size="20"
                    text-anchor="middle"
                    dominant-baseline="central"
                  >
                    設備圖片
                  </text>
                </svg>
                <div class="card-body">
                  <div class="form-check mb-2">
                    <input
                      class="form-check-input"
                      type="checkbox"
                      name="equipment[]"
                      value="J2000001"
                    />
                    <label class="form-check-label fw-bold"
                      >動圈式麥克風</label
                    >
                  </div>
                  <p class="card-text small mb-1">財產編號：J2000001</p>
                  <p class="card-text small mb-1">
                    規格：Carol E dur-916S 珍珠白
                  </p>
                  <span class="badge bg-primary category-badge mb-2"
                    >什項用具</span
                  >
                </div>
              </div>
            </div>
            <!-- 未來 AJAX / JS 載入資料會顯示在此 -->
          </div>
        </div>
      </div>

      <!-- 送出按鈕 -->
      <div class="d-grid gap-2 d-md-flex justify-content-md-end">
        <button type="reset" class="btn btn-outline-danger">
          <i class="fas fa-redo me-2"></i>重新填寫
        </button>
        <button type="submit" class="btn btn-primary">
          <i class="fas fa-paper-plane me-2"></i>送出借用
        </button>
      </div>
    </form>
  </div>

  <!-- 圖片預覽 Modal -->
  <div class="modal fade" id="imagePreviewModal">
    <div class="modal-dialog modal-lg">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title">器材圖片預覽</h5>
          <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
        </div>
        <div class="modal-body text-center">
          <img src="" class="img-fluid" id="previewImage" alt="器材圖片"/>
        </div>
      </div>
    </div>
  </div>

  <!-- Bootstrap JS (含Popper) -->
  <script
    src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"
  ></script>
  <!-- 自訂的主程式邏輯檔 -->
  <script src="./js/main.js"></script>
</body>
</html>
